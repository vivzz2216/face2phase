<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face2Phrase - Upload</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé§ Face2Phrase</h1>
            <p class="subtitle">Offline AI Communication Feedback System</p>
        </header>

        <main>
            <div class="upload-section">
                <h2>Upload Your Recording</h2>
                <p class="description">
                    Upload an audio or video file to receive detailed feedback on your communication skills.
                    All processing happens locally on your device - no data is sent to external servers.
                </p>

                <form id="uploadForm" enctype="multipart/form-data">
                    <div class="file-input-container">
                        <input type="file" id="fileInput" name="file" accept=".mp3,.wav,.m4a,.mp4,.avi,.mov,.mkv,.webm" required>
                        <label for="fileInput" class="file-input-label">
                            <span class="file-input-text">Choose File or Drag & Drop</span>
                            <span class="file-input-icon">üìÅ</span>
                        </label>
                    </div>

                    <div class="file-info" id="fileInfo" style="display: none;">
                        <div class="file-details">
                            <span class="file-name" id="fileName"></span>
                            <span class="file-size" id="fileSize"></span>
                        </div>
                        <button type="button" class="remove-file" id="removeFile">‚úï</button>
                    </div>

                    <button type="submit" class="upload-btn" id="uploadBtn" disabled>
                        <span class="btn-text">Start Analysis</span>
                        <span class="btn-icon">üöÄ</span>
                    </button>
                </form>

                <div class="supported-formats">
                    <h3>Supported Formats</h3>
                    <div class="format-categories">
                        <div class="format-category">
                            <h4>Audio Files</h4>
                            <p>MP3, WAV, M4A, FLAC, AAC</p>
                        </div>
                        <div class="format-category">
                            <h4>Video Files</h4>
                            <p>MP4, AVI, MOV, MKV, WebM</p>
                        </div>
                    </div>
                    <p class="file-limit">Maximum file size: 500MB</p>
                </div>
            </div>

            <div class="features-section">
                <h2>What We Analyze</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üé§</div>
                        <h3>Voice Confidence</h3>
                        <p>Analyzes vocal tone, steadiness, energy, and detects voice breaks or long pauses.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üó£Ô∏è</div>
                        <h3>Speech Clarity</h3>
                        <p>Identifies filler words, measures pause frequency, and evaluates fluency.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üß†</div>
                        <h3>Vocabulary & Expression</h3>
                        <p>Assesses vocabulary richness, word diversity, and linguistic clarity.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üé≠</div>
                        <h3>Facial Confidence</h3>
                        <p>Detects emotions, eye contact consistency, and engagement level from facial expressions.</p>
                    </div>
                </div>
            </div>

            <div class="device-info" id="deviceInfo">
                <h3>System Information</h3>
                <div class="device-details">
                    <div class="device-item">
                        <span class="device-label">Processing Device:</span>
                        <span class="device-value" id="deviceType">{{ device_info.device.upper() }}</span>
                    </div>
                    {% if device_info.is_gpu %}
                    <div class="device-item">
                        <span class="device-label">GPU:</span>
                        <span class="device-value">{{ device_info.gpu_name }}</span>
                    </div>
                    {% endif %}
                    <div class="device-item">
                        <span class="device-label">spaCy Model:</span>
                        <span class="device-value">{{ "Loaded" if device_info.spacy_model_loaded else "Not loaded" }}</span>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>Face2Phrase - Privacy-friendly AI communication analysis</p>
        </footer>
    </div>

    <script src="/static/js/upload.js"></script>
</body>
</html>
